<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <script> if (location.hostname === "www.rskybox.com") { location.href = "https://rskybox-stretchcom.appspot.com"; } </script>
    <title>rSkybox</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="//ajax.aspnetcdn.com/ajax/jquery.mobile/1.0/jquery.mobile-1.0.min.css" />
    <link rel="stylesheet" href="/css/styles.css">
    <script src="//ajax.aspnetcdn.com/ajax/jQuery/jquery-1.6.4.min.js"></script>
    <script>
      jQuery || document.write('<script src="\/js\/libs\/jquery-1.6.4.min.js"><\/script\>')
    </script>
    <script src="//ajax.aspnetcdn.com/ajax/jquery.mobile/1.0/jquery.mobile-1.0.min.js"></script>
    <script>
      jQuery.mobile || document.write('<script src="\/js\/libs\/jquery.mobile-1.0.min.js"\><\/script\>')
    </script>
    <script src="/js/libs/cookie.js"></script>
    <script src="/js/rmodule.js"></script>
  </head>
  <body>
    <script src="/js/item.js"></script>
<script>
var RMODULE = (function (my) {
  'use strict';


  my.itemName = function () {
    return 'clientLogs';
  };


  my.itemDetails = function (item) {
    var html, toggleActive;


    my.changeLogActiveState = function () {
      var json;

      json = JSON.stringify({
        mode : (item.logMode === 'inactive' ? 'active' : 'inactive')
      });
      console.log(json);

      my.putJson(my.getRestPrefix() + '\/clientLogs\/remoteControl\/' + item.logName, json, function () {
        history.back();
      });
      console.log('logMode = ' + item.logMode);
    };


    html  = '<div>Log Name: ' + item.logName + '<\/div>';
    html += '<div>Created: ' + item.date + '<\/div>';
    html += '<div>Mode: ' + item.logMode + ' &nbsp; ';
    html += '<a href="#" data-role="button" data-inline="true" onclick="RMODULE.changeLogActiveState();">'
    html +=   item.logMode === 'inactive' ? 'Activate' : 'Inactivate';
    html += '</a>';
    html += '<\/div>';
    html += '<div>User: ' + item.userName + '<\/div>';
    html += '<div>For: ' + item.instanceUrl + '<\/div>';
    html += '<div>Log Level: ' + item.logLevel + '<\/div>';
    html += '<div>Message: ' + item.message + '<\/div>';
    html += '<div>Status: ' + item.status + '<\/div>';
    html += '<br>';
    html += '<div>';
    html += '  Stack Back Trace<br>';
    html += '  ' + item.stackBackTrace;
    html += '<\/div>';
    html += '<br>';
    html += my.getAppActions(item.appActions);
    return html;
  };


  return my;
}(RMODULE || {}));

RMODULE.init();
</script>

<div data-role="page" id="index" data-title="Client Logs">
  <div data-role="header">
    <a href="#" data-rel="back">Back</a>
    <h1>Client Logs</h1>
    <a href="#archives" class="ui-btn-right" data-theme="b">Archives</a>
  </div>
  <div data-role="content"></div>
</div>

<div data-role="page" id="archives" data-title="Client Logs Archives">
  <div data-role="header">
    <a href="/html5" rel="external">Home</a>
    <h1>Client Logs Archives</h1>
    <a href="#index" class="ui-btn-right" data-theme="b">Active</a>
  </div>
  <div data-role="content"></div>
</div>

<div id="item" data-role="page" data-title="Client Log">
  <div data-role="header">
    <a href="#" data-rel="back">Back</a>
    <h1>Client Log</h1>
  </div>
  <div data-role="content"></div>
</div>

  </body>
</html>
